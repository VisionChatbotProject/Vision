version: '2.0'

# - rule: restart
#   steps:
#   - intent: restart
#   - action: action_restart

rules:
- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: start
  - action: utter_start

- rule: bot_challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: thanks
  steps:
  - intent: thanks
  - action: utter_thanks

- rule: Greet
  steps:
  - intent: greet
  - action: utter_greet

- rule: help
  steps:
  - intent: help
  - action: action_help

- rule: help_category
  steps:
  - intent: help_category
  - action: action_help

#- rule: actions_help
#  steps:
#  - intent: actions_help
#  - action: action_actions_help

- rule: set_slot_value
  steps:
  - intent: set_slot_value
  - action: action_set_value

- rule: user_login
  steps:
  - intent: user_login
  - active_loop: user_details_form
  - action: action_user_details_submit
  - action: action_deactivate_loop

- rule: my_default_fallback
  steps:
  - intent: nlu_fallback
  - action: action_my_default_fallback

#- rule: quiz_help
#  steps:
#  - intent: quiz_help
#  - action: action_quiz_help

- rule: Activate quiz form
  steps:
  - intent: quiz_form_launch
  - action: quiz_form
  - active_loop: quiz_form

- rule: Submit quiz form
  condition:
  - active_loop: quiz_form
  steps:
  - action: quiz_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_quiz_form_submit

- rule: quiz_number
  steps:
    - intent: quiz_number
    - action: action_ask_quiz_number

- rule: quiz_over
  steps:
    - intent: quiz_over
    - action: action_ask_quiz_over

- rule: quiz_show_score
  steps:
  - intent: quiz_show_score
  - action: action_quiz_show_score

#- rule: course_help
#  steps:
#  - intent: course_help
#  - action: action_course_help

- rule: course_list
  steps:
  - intent: course_list
  - action: action_course_list

- rule: course_teacher
  steps:
  - intent: course_teacher
  - action: action_course_teacher

- rule: course_chapters
  steps:
  - intent: course_chapters
  - action: action_course_chapters

- rule: course_description
  steps:
  - intent: course_description
  - action: action_course_description

- rule: course_materials
  steps:
  - intent: course_materials
  - action: action_course_materials

- rule: course_extressources
  steps:
  - intent: course_extressources
  - action: action_course_extressources

#- rule: chapter_help
#  steps:
#  - intent: chapter_help
#  - action: action_chapter_help

- rule: chapter_description
  steps:
  - intent: chapter_description
  - action: action_chapter_description

- rule: chapter_content
  steps:
  - intent: chapter_content
  - action: action_chapter_content

- rule: chapter_description
  steps:
  - intent: chapter_description
  - action: action_chapter_description

- rule: chapter_content
  steps:
  - intent: chapter_content
  - action: action_chapter_content

- rule: chapter_learn
  steps:
  - intent: chapter_learn
  - action: action_chapter_learn

#- rule: task_help
#  steps:
#  - intent: task_help
#  - action: action_task_help

- rule: task_list
  steps:
  - intent: task_list
  - action: action_task_list

- rule: task_ressources
  steps:
  - intent: task_ressources
  - action: action_task_ressources

- rule: task_deadlines
  steps:
  - intent: task_deadlines
  - action: action_task_deadlines

#- rule: exam_help
#  steps:
#  - intent: exam_help
#  - action: action_exam_help

- rule: exam_list
  steps:
  - intent: exam_list
  - action: action_exam_list

- rule: exam_next
  steps:
  - intent: exam_next
  - action: action_exam_next

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - action: action_restart
